<index.html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BAJA PRO SERVICES | Enterprise System</title>
<link rel="icon" href="favicon.png">

<script src="https://cdn.emailjs.com/dist/email.min.js"></script>

<style>
:root {
  --primary:#0ea5e9;
  --accent:#22c55e;
  --dark:#020617;
  --bg:#f1f5f9;
}

body { margin:0; font-family:'Segoe UI', Arial, sans-serif; background:var(--bg); color: var(--dark); }

.hero { background:url('hero.png') center/cover no-repeat; min-height:300px; position:relative; }

.hero-title { text-align:center; margin-top:40px; margin-bottom:-20px; }
.hero-title h1 { margin:0; font-size:34px; letter-spacing:2px; color:#020617; }
.hero-title p { margin-top:8px; letter-spacing:1px; color:#0369a1; font-weight:500; }

.lang-switch { position:absolute; top:20px; right:20px; z-index:20; }
.lang-switch button { background:rgba(255,255,255,0.9); border:none; border-radius:20px; padding:8px 16px; margin:0 5px; cursor:pointer; font-weight:bold; font-size:12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

.container { max-width:600px; background:white; margin:40px auto; border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,.15); overflow:hidden; }
.form-body { padding:25px; }

.section-title { background:#f8fafc; padding:12px; border-left:4px solid var(--primary); border-radius:8px; font-weight:bold; margin:25px 0 12px; font-size: 14px; text-transform: uppercase; }

input, textarea, select { width:100%; padding:14px; border-radius:12px; border:1px solid #cbd5e1; font-size:14px; margin-bottom:12px; box-sizing: border-box; }

.services-list { max-height:280px; overflow-y:auto; border:1px solid #e2e8f0; border-radius:12px; padding:10px; background:#f8fafc; }
.service-item { display:flex; align-items:center; font-size:14px; padding:8px 0; border-bottom: 1px solid #f1f5f9; cursor: pointer; }
.service-item input { margin-right:12px; width:18px; height:18px; cursor: pointer; }

#fotos { border:2px dashed var(--primary); padding:20px; border-radius:12px; background:#ecfeff; cursor:pointer; text-align: center; width: 100%; }
.preview { display:flex; flex-wrap:wrap; gap:8px; margin-top:15px; }
.preview img { width:80px; height:80px; object-fit:cover; border-radius:10px; border:2px solid var(--primary); }

.button-container { display:flex; flex-direction:column; gap:14px; margin-top:30px; }
.btn { padding:18px; border:none; border-radius:14px; font-weight:bold; font-size:15px; color:white; cursor:pointer; transition:.3s ease; box-shadow:0 8px 15px rgba(0,0,0,0.1); text-transform: uppercase; }
.btn:hover { transform:translateY(-3px); box-shadow:0 12px 25px rgba(0,0,0,0.2); opacity: 0.9; }
.btn:disabled { background: #94a3b8 !important; cursor: not-allowed; transform: none; opacity: 0.6; }

.btn-tech { background: linear-gradient(135deg, #0ea5e9, #0369a1); }
.btn-sales { background: linear-gradient(135deg, #22c55e, #15803d); }

.footer { text-align:center; font-size:12px; padding:20px; background:#020617; color:#94a3b8; margin-top: 40px; }
</style>
</head>
<body>

<div class="lang-switch">
  <button onclick="setLang('en')">üá∫üá∏ English</button>
  <button onclick="setLang('es')">üá≤üáΩ Espa√±ol</button>
</div>

<div class="hero"></div>

<div class="hero-title">
  <h1>BAJA PRO SERVICES</h1>
  <p id="heroSub">Residential ¬∑ Commercial ¬∑ Industrial Solutions</p>
</div>

<div class="container">
<div class="form-body">

  <div class="section-title" id="titleClient">CLIENT INFORMATION</div>
  <input id="nombre" placeholder="Full Name">
  <input id="tel" placeholder="Phone Number">
  <input id="email" value="servicesbajapro@gmail.com">
  <input id="dir" placeholder="Address">
  <select id="segment"></select>

  <div class="section-title" id="titleServices">SERVICES</div>
  <div class="services-list" id="servicios"></div>

  <div class="section-title" id="titleNotes">PROJECT DESCRIPTION</div>
  <textarea id="notas" rows="4" placeholder="Describe what you need..."></textarea>

  <div class="section-title" id="titlePhotos">UPLOAD PHOTOS</div>
  <input type="file" id="fotos" multiple accept="image/*">
  <div class="preview" id="preview"></div>

  <div class="button-container">
    <button class="btn btn-tech" id="btnTech1" onclick="submitLead(this, '+526121673200')">
      üìû SEND TO TECH 1 + CRM
    </button>
    <button class="btn btn-tech" id="btnTech2" onclick="submitLead(this, '+526122198325')">
      üìû SEND TO TECH 2 + CRM
    </button>
    <button class="btn btn-sales" id="btnSales" onclick="submitLead(this, '+526122311422')">
      üíº SEND TO SALES + CRM
    </button>
  </div>

</div>
</div>

<div class="footer">
¬© BAJA PRO SERVICES ‚Äî Enterprise Lead & CRM System 2026
</div>

<script>
/* CONFIG */
const EMAIL_PUBLIC_KEY = "VOVpCa1MrQAPKa6C";
const EMAIL_SERVICE_ID = "service_6djsb5o";
const EMAIL_TEMPLATE_ID = "template_df723j8";
// CORREGIDO: URL con comillas
const SHEET_ENDPOINT = "https://script.google.com/macros/s/AKfycbxRRWx13cQNr9jUF3__ScKxuJ0kigzBP-8KrKpwmQSU9dYoWdrG5FUNq3gxqR6MyDZkzA/exec";

emailjs.init(EMAIL_PUBLIC_KEY);

let currentLang = "en";

const translations = {
  en: {
    heroSub: "Residential ¬∑ Commercial ¬∑ Industrial Solutions",
    titleClient: "CLIENT INFORMATION",
    titleServices: "SERVICES",
    titleNotes: "PROJECT DESCRIPTION",
    titlePhotos: "UPLOAD PHOTOS",
    name: "Full Name", phone: "Phone Number", address: "Address",
    notes: "Describe what you need...",
    techBtn: "üìû SEND TO TECH",
    salesBtn: "üíº SEND TO SALES",
    alert: "‚ö†Ô∏è Name and Phone are required",
    saving: "‚åõ SAVING TO CRM...",
    segment: ["Residential", "Commercial", "Industrial"],
    waHeader: "*BAJA PRO SERVICES - NEW LEAD*",
    waName: "Name", waPhone: "Phone", waSegment: "Segment",
    waServices: "Services", waPhotos: "Photos"
  },
  es: {
    heroSub: "Soluciones Residenciales ¬∑ Comerciales ¬∑ Industriales",
    titleClient: "DATOS DEL CLIENTE",
    titleServices: "SERVICIOS",
    titleNotes: "DESCRIPCI√ìN DEL PROYECTO",
    titlePhotos: "SUBIR FOTOS",
    name: "Nombre Completo", phone: "Tel√©fono", address: "Direcci√≥n",
    notes: "Describe lo que necesitas...",
    techBtn: "üìû ENVIAR A T√âCNICO",
    salesBtn: "üíº ENVIAR A VENTAS",
    alert: "‚ö†Ô∏è Nombre y Tel√©fono son obligatorios",
    saving: "‚åõ GUARDANDO EN CRM...",
    segment: ["Residencial", "Comercial", "Industrial"],
    waHeader: "*BAJA PRO SERVICES - NUEVO LEAD*",
    waName: "Nombre", waPhone: "Tel√©fono", waSegment: "Segmento",
    waServices: "Servicios", waPhotos: "Fotos"
  }
};

const servicesList = {
  en: ["01. Air Conditioner Maintenance", "02. Air Conditioner Installation", "03. Interior & Exterior Painting", "04. Roof Waterproofing", "05. Floor Installation", "06. Electrical Repairs", "07. New Electrical Installations", "08. Plumbing Services", "09. Security Camera Installation", "10. Electric Fence Installation", "11. Aluminum Doors & Windows", "12. Metalwork & Welding", "13. Drywall & Cement Board", "14. General Carpentry", "15. Blinds & Curtains", "16. Leak Repairs", "17. Water Heater Installation & Repair", "18. General Maintenance", "19. Solar Panel Installation", "20. Post-Construction Deep Cleaning"],
  es: ["01. Mantenimiento de Aire Acondicionado", "02. Instalaci√≥n de Aire Acondicionado", "03. Pintura Interior y Exterior", "04. Impermeabilizaci√≥n de Techos", "05. Instalaci√≥n de Pisos", "06. Reparaciones El√©ctricas", "07. Instalaciones El√©ctricas Nuevas", "08. Servicios de Plomer√≠a", "09. Instalaci√≥n de C√°maras de Seguridad", "10. Instalaci√≥n de Cerco El√©ctrico", "11. Puertas y Ventanas de Aluminio", "12. Herrer√≠a y Soldadura", "13. Drywall y Tabla Roca", "14. Carpinter√≠a General", "15. Persianas y Cortinas", "16. Reparaci√≥n de Fugas", "17. Instalaci√≥n y Rep. de Boilers", "18. Mantenimiento General", "19. Instalaci√≥n de Paneles Solares", "20. Limpieza Profunda Post-Construcci√≥n"]
};

function setLang(lang) {
  currentLang = lang;
  const t = translations[lang];

  document.getElementById("heroSub").innerText = t.heroSub;
  document.getElementById("titleClient").innerText = t.titleClient;
  document.getElementById("titleServices").innerText = t.titleServices;
  document.getElementById("titleNotes").innerText = t.titleNotes;
  document.getElementById("titlePhotos").innerText = t.titlePhotos;
  
  document.getElementById("nombre").placeholder = t.name;
  document.getElementById("tel").placeholder = t.phone;
  document.getElementById("dir").placeholder = t.address;
  document.getElementById("notas").placeholder = t.notes;

  document.getElementById("btnTech1").innerText = t.techBtn + " 1 + CRM";
  document.getElementById("btnTech2").innerText = t.techBtn + " 2 + CRM";
  document.getElementById("btnSales").innerText = t.salesBtn + " + CRM";

  const segment = document.getElementById("segment");
  segment.innerHTML = "";
  t.segment.forEach(s => {
    const opt = document.createElement("option");
    opt.textContent = s;
    segment.appendChild(opt);
  });

  const serviciosDiv = document.getElementById("servicios");
  serviciosDiv.innerHTML = "";
  servicesList[lang].forEach(serv => {
    const label = document.createElement("label");
    label.className = "service-item";
    label.innerHTML = `<input type="checkbox" value="${serv}"> ${serv}`;
    serviciosDiv.appendChild(label);
  });
}

document.getElementById('fotos').addEventListener('change', e => {
  const preview = document.getElementById('preview');
  preview.innerHTML = "";
  [...e.target.files].slice(0,5).forEach(file => {
    const img = document.createElement('img');
    img.src = URL.createObjectURL(file);
    preview.appendChild(img);
  });
});

async function submitLead(btnElement, numeroDestino) {
  const t = translations[currentLang];
  const nombre = document.getElementById('nombre').value.trim();
  const tel = document.getElementById('tel').value.trim();

  if (!nombre || !tel) {
    alert(t.alert);
    return;
  }

  const originalText = btnElement.innerText;
  const leadId = "BP-" + Math.floor(1000 + Math.random() * 9000);
  const fecha = new Date().toLocaleString();
  const servicios = [...document.querySelectorAll('#servicios input:checked')].map(i => i.value).join(", ");

  const data = {
    id: leadId,
    fecha: fecha,
    nombre: nombre,
    telefono: tel,
    email: document.getElementById('email').value.trim(),
    direccion: document.getElementById('dir').value.trim(),
    segmento: document.getElementById('segment').value,
    servicios: servicios || "N/A",
    notas: document.getElementById('notas').value.trim() || "N/A",
    fotos: document.getElementById('fotos').files.length,
    idioma: currentLang
  };

  // Feedback visual
  btnElement.innerText = t.saving;
  btnElement.disabled = true;

  try {
    await Promise.all([
      fetch(SHEET_ENDPOINT, { method: "POST", mode: 'no-cors', body: JSON.stringify(data) }),
      emailjs.send(EMAIL_SERVICE_ID, EMAIL_TEMPLATE_ID, data)
    ]);
  } catch (e) { 
    console.error("Sync Error", e); 
  }

  const msg = `${t.waHeader}\n\n` +
              `üÜî ID: ${data.id}\n` +
              `üë§ ${t.waName}: ${data.nombre}\n` +
              `üìû ${t.waPhone}: ${data.telefono}\n` +
              `üè¢ ${t.waSegment}: ${data.segmento}\n\n` +
              `üõ†Ô∏è ${t.waServices}:\n${data.servicios}\n\n` +
              `üì∏ ${t.waPhotos}: ${data.fotos}`;

  window.open(`https://wa.me/${numeroDestino.replace('+', '')}?text=${encodeURIComponent(msg)}`, "_blank");

  btnElement.innerText = originalText;
  btnElement.disabled = false;
}

setLang("en");
</script>

</body>
</html>

