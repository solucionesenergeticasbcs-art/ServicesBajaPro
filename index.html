<index. html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BAJA PRO SERVICES | Enterprise System</title>
<link rel="icon" href="favicon.png">

<script src="https://cdn.emailjs.com/dist/email.min.js"></script>

<style>
:root {
  --primary:#0ea5e9;
  --accent:#22c55e;
  --dark:#020617;
  --bg:#f1f5f9;
}

body { margin:0; font-family:'Segoe UI', Arial, sans-serif; background:var(--bg); color: var(--dark); }

/* HERO SECTION AJUSTADO */
.hero { 
  background: url('hero.png') center/cover no-repeat; 
  width: 100%;
  aspect-ratio: 16 / 6; 
  min-height: 250px;
  position: relative;
}

@media (max-width: 600px) {
  .hero { aspect-ratio: 4 / 3; min-height: 200px; }
}

.hero-title { text-align: center; padding: 30px 20px 10px; background: white; }
.hero-title h1 { margin: 0; font-size: clamp(24px, 5vw, 34px); letter-spacing: 2px; color: #020617; font-weight: 800; text-transform: uppercase; }
.hero-title p { margin-top: 8px; letter-spacing: 1px; color: #0369a1; font-weight: 500; font-size: 14px; }

/* BOTÃ“N FLOTANTE */
.btn-call-float {
  position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px;
  background-color: var(--accent); color: white; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 999; text-decoration: none; transition: 0.3s;
}
.btn-call-float:hover { transform: scale(1.1); }
.btn-call-float svg { width: 30px; height: 30px; fill: currentColor; }

/* FORMULARIO */
.lang-switch { position:absolute; top:20px; right:20px; z-index:20; }
.lang-switch button { background:rgba(255,255,255,0.9); border:none; border-radius:20px; padding:8px 16px; margin:0 5px; cursor:pointer; font-weight:bold; font-size:12px; }

.container { max-width:600px; background:white; margin:20px auto 40px; border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,.15); overflow:hidden; }
.form-body { padding:25px; }

.section-title { background:#f8fafc; padding:12px; border-left:4px solid var(--primary); border-radius:8px; font-weight:bold; margin:25px 0 12px; font-size: 14px; text-transform: uppercase; }

input, textarea, select { width:100%; padding:14px; border-radius:12px; border:1px solid #cbd5e1; font-size:14px; margin-bottom:12px; box-sizing: border-box; }

.services-list { max-height:280px; overflow-y:auto; border:1px solid #e2e8f0; border-radius:12px; padding:10px; background:#f8fafc; }
.service-item { display:flex; align-items:center; font-size:14px; padding:8px 0; border-bottom: 1px solid #f1f5f9; cursor: pointer; }
.service-item input { margin-right:12px; width:18px; height:18px; }

#fotos { border:2px dashed var(--primary); padding:20px; border-radius:12px; background:#ecfeff; text-align: center; width: 100%; cursor: pointer; }
.preview { display:flex; flex-wrap:wrap; gap:8px; margin-top:15px; }
.preview img { width:80px; height:80px; object-fit:cover; border-radius:10px; border:2px solid var(--primary); }

.button-container { display:flex; flex-direction:column; gap:14px; margin-top:30px; }
.btn { padding:18px; border:none; border-radius:14px; font-weight:bold; font-size:15px; color:white; cursor:pointer; transition:.3s ease; text-transform: uppercase; }
.btn:hover { transform:translateY(-3px); opacity: 0.9; }

.btn-tech { background: linear-gradient(135deg, #0ea5e9, #0369a1); }
.btn-sales { background: linear-gradient(135deg, #22c55e, #15803d); }

.footer { text-align:center; font-size:12px; padding:20px; background:#020617; color:#94a3b8; margin-top: 40px; }
</style>
</head>
<body>

<a href="tel:+526121673200" class="btn-call-float">
  <svg viewBox="0 0 24 24"><path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/></svg>
</a>

<div class="lang-switch">
  <button onclick="setLang('en')">ðŸ‡ºðŸ‡¸ EN</button>
  <button onclick="setLang('es')">ðŸ‡²ðŸ‡½ ES</button>
</div>

<div class="hero"></div>

<div class="hero-title">
  <h1>BAJA PRO SERVICES</h1>
  <p id="heroSub">Residential Â· Commercial Â· Industrial Solutions</p>
</div>

<div class="container">
<div class="form-body">
  <div class="section-title" id="titleClient">CLIENT INFORMATION</div>
  <input id="nombre" placeholder="Full Name">
  <input id="tel" placeholder="Phone Number">
  <input id="email" value="servicesbajapro@gmail.com">
  <input id="dir" placeholder="Address">
  <select id="segment"></select>

  <div class="section-title" id="titleServices">SERVICES</div>
  <div class="services-list" id="servicios"></div>

  <div class="section-title" id="titleNotes">PROJECT DESCRIPTION</div>
  <textarea id="notas" rows="4" placeholder="Describe..."></textarea>

  <div class="section-title" id="titlePhotos">UPLOAD PHOTOS</div>
  <input type="file" id="fotos" multiple accept="image/*">
  <div class="preview" id="preview"></div>

  <div class="button-container">
    <button class="btn btn-tech" id="btnTech1" onclick="submitLead(this, '+526121673200')">ðŸ“ž TECH 1 + CRM</button>
    <button class="btn btn-tech" id="btnTech2" onclick="submitLead(this, '+526122198325')">ðŸ“ž TECH 2 + CRM</button>
    <button class="btn btn-sales" id="btnSales" onclick="submitLead(this, '+526122311422')">ðŸ’¼ SALES + CRM</button>
  </div>
</div>
</div>

<div class="footer">Â© BAJA PRO SERVICES 2026</div>

<script>
/* CONFIG */
const EMAIL_PUBLIC_KEY = "VOVpCa1MrQAPKa6C";
const EMAIL_SERVICE_ID = "service_6djsb5o";
const EMAIL_TEMPLATE_ID = "template_df723j8";
const SHEET_ENDPOINT = "https://script.google.com/macros/s/AKfycbxRRWx13cQNr9jUF3__ScKxuJ0kigzBP-8KrKpwmQSU9dYoWdrG5FUNq3gxqR6MyDZkzA/exec";

// TELEGRAM CONFIG
const TELEGRAM_TOKEN = "8513353497:AAExMzccj_v4Owo4Z6JzOKUO5ZhIMdctLGA";
const TELEGRAM_CHAT_ID = "8457518723";

emailjs.init(EMAIL_PUBLIC_KEY);

let currentLang = "en";

const translations = {
  en: {
    heroSub: "Residential Â· Commercial Â· Industrial Solutions",
    titleClient: "CLIENT INFORMATION", titleServices: "SERVICES", titleNotes: "PROJECT DESCRIPTION", titlePhotos: "UPLOAD PHOTOS",
    alert: "âš ï¸ Name and Phone are required", saving: "âŒ› SAVING...",
    segment: ["Residential", "Commercial", "Industrial"],
    waHeader: "*BAJA PRO SERVICES - NEW LEAD*"
  },
  es: {
    heroSub: "Soluciones Residenciales Â· Comerciales Â· Industriales",
    titleClient: "DATOS DEL CLIENTE", titleServices: "SERVICIOS", titleNotes: "DESCRIPCIÃ“N DEL PROYECTO", titlePhotos: "SUBIR FOTOS",
    alert: "âš ï¸ Nombre y TelÃ©fono son obligatorios", saving: "âŒ› GUARDANDO...",
    segment: ["Residencial", "Comercial", "Industrial"],
    waHeader: "*BAJA PRO SERVICES - NUEVO LEAD*"
  }
};

const servicesList = {
  en: ["01. AC Maintenance", "02. AC Installation", "03. Painting", "04. Waterproofing", "05. Floors", "06. Electrical Repair", "07. New Electrical", "08. Plumbing", "09. CCTV", "10. Electric Fence", "11. Aluminum", "12. Metalwork", "13. Drywall", "14. Carpentry", "15. Blinds", "16. Leaks", "17. Water Heaters", "18. General Maint.", "19. Solar Panels", "20. Cleaning"],
  es: ["01. Mant. Aire Acondicionado", "02. Inst. Aire Acondicionado", "03. Pintura", "04. ImpermeabilizaciÃ³n", "05. Pisos", "06. Rep. ElÃ©ctrica", "07. Inst. ElÃ©ctrica Nueva", "08. PlomerÃ­a", "09. CÃ¡maras", "10. Cerco ElÃ©ctrico", "11. Aluminio", "12. HerrerÃ­a", "13. Drywall/Tablaroca", "14. CarpinterÃ­a", "15. Persianas", "16. Fugas", "17. Boilers", "18. Mant. General", "19. Paneles Solares", "20. Limpieza Profunda"]
};

function setLang(lang) {
  currentLang = lang;
  const t = translations[lang];
  document.getElementById("heroSub").innerText = t.heroSub;
  document.getElementById("titleClient").innerText = t.titleClient;
  document.getElementById("titleServices").innerText = t.titleServices;
  document.getElementById("titleNotes").innerText = t.titleNotes;
  document.getElementById("titlePhotos").innerText = t.titlePhotos;

  const segment = document.getElementById("segment");
  segment.innerHTML = "";
  t.segment.forEach(s => { const opt = document.createElement("option"); opt.textContent = s; segment.appendChild(opt); });

  const serviciosDiv = document.getElementById("servicios");
  serviciosDiv.innerHTML = "";
  servicesList[lang].forEach(serv => {
    const label = document.createElement("label");
    label.className = "service-item";
    label.innerHTML = `<input type="checkbox" value="${serv}"> ${serv}`;
    serviciosDiv.appendChild(label);
  });
}

// FUNCIÃ“N PARA TELEGRAM
async function sendToTelegram(data) {
  const text = `ðŸš€ *NUEVO LEAD - BAJA PRO*\n\n` +
               `ðŸ‘¤ *Nombre:* ${data.nombre}\n` +
               `ðŸ“ž *Tel:* ${data.telefono}\n` +
               `ðŸ¢ *Tipo:* ${data.segmento}\n` +
               `ðŸ› ï¸ *Servicios:* ${data.servicios}\n` +
               `ðŸ“ *Notas:* ${data.notas}\n` +
               `ðŸ†” *ID:* ${data.id}`;

  const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage?chat_id=${TELEGRAM_CHAT_ID}&text=${encodeURIComponent(text)}&parse_mode=Markdown`;
  try { await fetch(url); } catch (e) { console.error("Telegram Error", e); }
}

async function submitLead(btnElement, numeroDestino) {
  const t = translations[currentLang];
  const nombre = document.getElementById('nombre').value.trim();
  const tel = document.getElementById('tel').value.trim();

  if (!nombre || !tel) { alert(t.alert); return; }

  const originalText = btnElement.innerText;
  const data = {
    id: "BP-" + Math.floor(1000 + Math.random() * 9000),
    nombre: nombre,
    telefono: tel,
    email: document.getElementById('email').value.trim(),
    direccion: document.getElementById('dir').value.trim(),
    segmento: document.getElementById('segment').value,
    servicios: [...document.querySelectorAll('#servicios input:checked')].map(i => i.value).join(", ") || "N/A",
    notas: document.getElementById('notas').value.trim() || "N/A",
    fotos: document.getElementById('fotos').files.length
  };

  btnElement.innerText = t.saving;
  btnElement.disabled = true;

  try {
    await Promise.all([
      fetch(SHEET_ENDPOINT, { method: "POST", mode: 'no-cors', body: JSON.stringify(data) }),
      emailjs.send(EMAIL_SERVICE_ID, EMAIL_TEMPLATE_ID, data),
      sendToTelegram(data) // ENVÃO A TELEGRAM
    ]);
  } catch (e) { console.error("Sync Error", e); }

  const msg = `${t.waHeader}\n\nðŸ†” ID: ${data.id}\nðŸ‘¤ Nom: ${data.nombre}\nðŸ“ž Tel: ${data.telefono}\nðŸ› ï¸ Serv: ${data.servicios}`;
  window.open(`https://wa.me/${numeroDestino.replace('+', '')}?text=${encodeURIComponent(msg)}`, "_blank");

  btnElement.innerText = originalText;
  btnElement.disabled = false;
}

document.getElementById('fotos').addEventListener('change', e => {
  const preview = document.getElementById('preview');
  preview.innerHTML = "";
  [...e.target.files].slice(0,5).forEach(file => {
    const img = document.createElement('img');
    img.src = URL.createObjectURL(file);
    preview.appendChild(img);
  });
});

setLang("en");
</script>
</body>
</html>
